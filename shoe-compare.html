<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Shoe</title>
  <link rel="icon" href="resources/logo.png">
  
  <!-- Stylesheets -->
  <!-- TODO remove unused css rules-->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

</head>

<body>

<!-- Start Header -->
<header id="header">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="logo">
          <a href="#"><img src="resources/logo.png" alt="logo" class="img-responsive"></a>
          <span class="company-name"><p>Shoe</p></span>
        </div>
        <div class="navigation">
          <nav>
            <ul class="custom-list list-inline">
              <li><a href="#">Home</a></li>
              <li><a href="#events">Blog</a></li>
              <li><a href="#faq">Contact Us</a></li>
              <li><a href="#hero" class="btn btn-red">Sign Up</a></li>
            </ul>
          </nav>
          <i class="fa fa-list toggleMenu"></i>
        </div>
      </div>
    </div>
  </div>
</header>
<!-- End Header -->


<div id="compare-panel">
    <div class="col-xs-12 squish-header">
        <h2>Face Off</h2>
    </div>
    <div class="col-xs-5 col-xs-offset-1 squish-header">
            <img src="resources/thumbnails/thumb-risinghigh.png" alt="" class=" shoe-image" id="shoe-image-1">
            <h5><span id="shoe-1-name">AIR JORDAN RISING HIGH</span></h5>
    </div>
    
    <div class="col-xs-5 squish-header">
        <img src="resources/thumbnails/thumb-jcrossover3.png" alt="" class=" shoe-image" id="shoe-image-2">
        <h5><span id="shoe-2-name">BRANDBLACK J CROSSOVER 3</span></h5>
    </div>
    
    <div class="col-xs-12" id="barchart">
    </div>

</div>


<!-- Scripts -->
<script src="js/jquery-2.1.4.min.js"></script>
<script src="js/scripts.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/jquery.easing.min.js"></script>
<script src="js/jquery.ba-outside-events.min.js"></script>
<script src="js/jquery.ui.min.js"></script>
<script src='http://d3js.org/d3.v3.min.js'></script>
<script src="js/barchart.js"></script>

<script type="text/javascript">
    
    //converts the data from database request to be D3 friendly
    function convertObj(shoeObj){
        var categories = ["traction", "cushion", "materials", "fit", "support"];
        var shoe=[];
        for(var key in shoeObj){
            if(categories.indexOf(key)>=0){
                shoe.push({name:key, value: shoeObj[key]});
            }
        }
        return shoe;
    }
    
    /**  Prepares shoe information for visual comparison **/
    $(document).ready(function() {
        $.ajax({
            type:"GET",
            data:{'name_1': $("#shoe-1-name").text(), 'name_2': $("#shoe-2-name").text()},
            url:"database/get-shoes-compare.php",
            dataType:"json",
            success: function(response){
                console.log(response);     
                for(var i=0; i<response.length; i++){
                    console.log(convertObj(response[i]));
                }
                    
            }
        });
    });
</script>

<script type="text/javascript">
		var risinghigh = [
                            {name:'traction', value:2},
                            {name:'cushion',value:4},
                            {name:'materials',value:3},
                            {name:'fit',value:4},
                            {name:'support',value:5}						
						];
						
		var jc3 = 		[
                            {name:'traction', value:4},
                            {name:'cushion',value:4},
                            {name:'materials',value:4},
                            {name:'fit',value:4},
                            {name:'support',value:4}						
						];
        console.log(risinghigh);
        console.log(jc3);
        $(document).ready(function() {
            draw(risinghigh, jc3);
        });
        
		
	</script>

</body>
</html>
